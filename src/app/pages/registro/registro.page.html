<ion-header>
  <ion-toolbar color="primary">
    <ion-title class="ion-text-center">
      Registro de Usuario
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <ion-card>
    <ion-card-header>
      <ion-card-title class="ion-text-center">
        Crear cuenta
      </ion-card-title>
      <ion-card-subtitle class="ion-text-center">
        Complete todos los campos
      </ion-card-subtitle>
    </ion-card-header>

    <ion-card-content>

      <form [formGroup]="registroForm" (ngSubmit)="registrar()">

        <!-- Nombre -->
        <ion-item lines="full">
          <ion-label position="floating">Nombre</ion-label>
          <ion-input formControlName="nombre"></ion-input>
        </ion-item>

        <ion-note color="danger" *ngIf="nombre?.touched && nombre?.invalid">
          <small *ngIf="nombre?.errors?.['required']">
            El nombre es obligatorio.
          </small>
          <small *ngIf="nombre?.errors?.['minlength']">
            Mínimo 3 caracteres.
          </small>
        </ion-note>

        <!-- Teléfono -->
        <ion-item lines="full">
          <ion-label position="floating">Teléfono</ion-label>
          <ion-input
            type="tel"
            inputmode="numeric"
            formControlName="telefono">
          </ion-input>
        </ion-item>

        <ion-note color="danger" *ngIf="telefono?.touched && telefono?.invalid">
          <small *ngIf="telefono?.errors?.['required']">
            El teléfono es obligatorio.
          </small>
          <small *ngIf="telefono?.errors?.['pattern']">
            Solo números.
          </small>
        </ion-note>

        <!-- Fecha -->
        <ion-item lines="full">
          <ion-label>Fecha de nacimiento</ion-label>
          <ion-input
            type="date"
            formControlName="fechaNacimiento">
          </ion-input>
        </ion-item>

        <ion-note
          color="danger"
          *ngIf="fechaNacimiento?.touched && fechaNacimiento?.invalid">
          <small>La fecha es obligatoria.</small>
        </ion-note>

        <ion-button
          expand="block"
          type="submit"
          color="primary"
          class="ion-margin-top"
          [disabled]="registroForm.invalid">
          Registrarse
        </ion-button>

      </form>

    </ion-card-content>
  </ion-card>

</ion-content>

